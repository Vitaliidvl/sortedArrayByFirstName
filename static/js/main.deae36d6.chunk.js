(this.webpackJsonpyalantis=this.webpackJsonpyalantis||[]).push([[0],{24:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(18),s=c.n(r),o=(c(24),c(5)),l=c(4),i=c(7),j=c(3),d=c(19),m=c.n(d),u=c(0),b=function(e){var t=e.employee,c=new Date(t.dob),a="".concat(c.getDate()," ").concat(c.toLocaleString("en-GB",{month:"long"}),", ").concat(c.getFullYear()," year");return Object(u.jsxs)("li",{className:"employees-birthday__list-item",children:[t.lastName," ",t.firstName," - ",a]})},p=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],O=["November","December","January","February","March","April","May","June","July","August","September","October"],h=function(e,t){return e.firstName.localeCompare(t.firstName)},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):t},f=function(e){var t=function(e){var t=Object.keys(e).sort((function(e,t){return e-t})),c=t.filter((function(e){return+e<11})),a=t.filter((function(e){return+e>=11}));return[].concat(Object(i.a)(a),Object(i.a)(c)).reduce((function(t,c){return t[O[c]]=e[c]||[],t}),{})}(e.selectedEmployees);return Object(u.jsxs)("section",{className:"employees-birthday",children:[Object(u.jsx)("h2",{className:"employees-birthday__title",children:"Employees birthday"}),Object(u.jsx)("div",{className:"employees-birthday__wrapper",children:Object.keys(t).length>0?Object.entries(t).map((function(e,c){var a=Object(j.a)(e,2),n=a[0],r=a[1];return Object(u.jsxs)("section",{children:[t[n].length>0&&Object(u.jsx)("h4",{children:n}),Object(u.jsx)("ul",{className:"employees-birthday__list",children:r&&r.map((function(e){return Object(u.jsx)(b,{employee:e},e.id)}))})]},c)})):Object(u.jsx)("h3",{children:"Employees List is empty"})})]})},v=function(e){var t=e.employee,c=e.addEmployee,n=e.removeEmployee,r=Object(a.useState)(y(t.id,!1)),s=Object(j.a)(r,2),o=s[0],l=s[1];return Object(a.useEffect)((function(){o?localStorage.setItem(t.id,!0):localStorage.removeItem(t.id)}),[o,t.id]),Object(u.jsxs)("div",{className:"employee-content",children:[Object(u.jsxs)("h4",{className:"employee-name ".concat(o?"active":""),children:[t.firstName," ",t.lastName]}),Object(u.jsxs)("div",{className:"btn-group",children:[Object(u.jsxs)("div",{className:"not-active-wrapper",children:[Object(u.jsx)("input",{type:"radio",name:t.firstName,id:"".concat(t.id,"-not-active"),value:!1,checked:!o,onChange:function(){l(!1),n(t)}}),Object(u.jsx)("label",{htmlFor:"".concat(t.id,"-not-active"),children:"not active"})]}),Object(u.jsxs)("div",{className:"active-wrapper",children:[Object(u.jsx)("input",{type:"radio",name:t.firstName,id:"".concat(t.id,"-active"),value:!0,checked:o,onChange:function(){l(!0),c(t)}}),Object(u.jsx)("label",{htmlFor:"".concat(t.id,"-active"),children:"active"})]})]})]})},x=function(e){var t=e.employees,c=e.addSelectedEmployee,a=e.removeSelectedEmployee;return Object(u.jsxs)("section",{className:"employees",children:[Object(u.jsx)("h2",{className:"employees-title",children:"Employees"}),Object(u.jsx)("div",{className:"employees-wrapper",children:Object.entries(t).map((function(e,t){var n=Object(j.a)(e,2),r=n[0],s=n[1];return Object(u.jsxs)("div",{className:"employee-wrapper",children:[Object(u.jsx)("h3",{children:r}),s.length>0?s.map((function(e){return Object(u.jsx)(v,{employee:e,addEmployee:c,removeEmployee:a},e.id)})):"No Employees"]},t)}))})]})},g=function(){var e=Object(a.useState)({}),t=Object(j.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(y("selectedEmployees")),s=Object(j.a)(r,2),d=s[0],b=s[1],O=Object(a.useState)(!1),v=Object(j.a)(O,2),g=v[0],N=v[1],E=Object(a.useState)(!1),S=Object(j.a)(E,2),w=S[0],J=S[1];Object(a.useEffect)((function(){N(!0),J(!1),m.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){var t=e.data.reduce((function(e,t){var c=t.firstName.slice(0,1);return e[c]?e[c].push(t):e[c]=[t],e}),{});n(I(t)),N(!1)})).catch((function(){J(!0)}))}),[]);var I=function(e){var t=Object.entries(e).reduce((function(e,t){return t[1].sort(h),e}),e);return p.sort().reduce((function(e,c){return e[c]=t[c]||[],e}),{})};return w?Object(u.jsx)("h1",{children:"Failed to fetch data"}):Object(u.jsxs)("div",{className:"app",children:[g&&Object(u.jsx)("h3",{children:"Loading..."}),!g&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(x,{employees:c,addSelectedEmployee:function(e){var t=new Date(e.dob).getMonth(),c=y("selectedEmployees");c[t]?localStorage.setItem("selectedEmployees",JSON.stringify(Object(l.a)(Object(l.a)({},c),{},Object(o.a)({},t,function(e,t){return[].concat(Object(i.a)(e),[t]).sort(h)}(c[t],e))))):localStorage.setItem("selectedEmployees",JSON.stringify(Object(l.a)(Object(l.a)({},c),{},Object(o.a)({},t,[e])))),b(y("selectedEmployees"))},removeSelectedEmployee:function(e){var t=new Date(e.dob).getMonth(),c=y("selectedEmployees"),a=Object(l.a)(Object(l.a)({},c),{},Object(o.a)({},t,c[t].filter((function(t){return t.id!==e.id}))));localStorage.setItem("selectedEmployees",JSON.stringify(function(e){var t={};return Object.keys(e).forEach((function(c){e[c].length&&(t[c]=e[c])})),t}(a))),b(y("selectedEmployees"))}}),Object(u.jsx)(f,{selectedEmployees:d})]})]})};s.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.deae36d6.chunk.js.map