(this.webpackJsonpyalantis=this.webpackJsonpyalantis||[]).push([[0],{24:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(18),r=c.n(n),s=(c(24),c(5)),o=c(4),l=c(7),i=c(3),m=c(19),j=c.n(m),d=c(0),u=function(e){var t=e.employee,c=new Date(t.dob),a="".concat(c.getDate()," ").concat(c.toLocaleString("en-GB",{month:"long"}),", ").concat(c.getFullYear()," year");return Object(d.jsxs)("li",{className:"employees-birthday__list-item",children:[t.lastName," ",t.firstName," - ",a]})},b=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],p=["November","December","January","February","March","April","May","June","July","August","September","October"],O=function(e,t){return e.firstName.localeCompare(t.firstName)},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):t},h=function(e){var t=function(e){var t=Object.keys(e).sort((function(e,t){return e-t})),c=t.filter((function(e){return+e<11})),a=t.filter((function(e){return+e>=11}));return[].concat(Object(l.a)(a),Object(l.a)(c)).reduce((function(t,c){return t[p[c]]=e[c]||[],t}),{})}(e.selectedEmployees);return Object(d.jsxs)("section",{className:"employees-birthday",children:[Object(d.jsx)("h2",{className:"employees-birthday__title",children:"Employees birthday"}),Object(d.jsx)("div",{className:"employees-birthday__wrapper",children:Object.keys(t).length>0?Object.entries(t).map((function(e,c){var a=Object(i.a)(e,2),n=a[0],r=a[1];return Object(d.jsxs)("section",{children:[t[n].length>0&&Object(d.jsx)("h4",{children:n}),Object(d.jsx)("ul",{className:"employees-birthday__list",children:r&&r.map((function(e){return Object(d.jsx)(u,{employee:e},e.id)}))})]},c)})):Object(d.jsx)("h3",{children:"Employees List is empty"})})]})},f=function(e){var t=e.employee,c=e.addEmployee,n=e.removeEmployee,r=Object(a.useState)(y(t.id,!1)),s=Object(i.a)(r,2),o=s[0],l=s[1];return Object(a.useEffect)((function(){o?localStorage.setItem(t.id,!0):localStorage.removeItem(t.id)}),[o,t.id]),Object(d.jsxs)("div",{className:"employee-content",children:[Object(d.jsxs)("h4",{className:"employee-name ".concat(o?"active":""),children:[t.firstName," ",t.lastName]}),Object(d.jsxs)("div",{className:"btn-group",children:[Object(d.jsxs)("div",{className:"not-active-wrapper",children:[Object(d.jsx)("input",{type:"radio",name:t.firstName,id:"".concat(t.id,"-not-active"),value:!1,checked:!o,onChange:function(){l(!1),n(t)}}),Object(d.jsx)("label",{htmlFor:"".concat(t.id,"-not-active"),children:"not active"})]}),Object(d.jsxs)("div",{className:"active-wrapper",children:[Object(d.jsx)("input",{type:"radio",name:t.firstName,id:"".concat(t.id,"-active"),value:!0,checked:o,onChange:function(){l(!0),c(t)}}),Object(d.jsx)("label",{htmlFor:"".concat(t.id,"-active"),children:"active"})]})]})]})},v=function(e){var t=e.employees,c=e.addSelectedEmployee,a=e.removeSelectedEmployee;return Object(d.jsxs)("section",{className:"employees",children:[Object(d.jsx)("h2",{className:"employees-title",children:"Employees"}),Object(d.jsx)("div",{className:"employees-wrapper",children:Object.entries(t).map((function(e,t){var n=Object(i.a)(e,2),r=n[0],s=n[1];return Object(d.jsxs)("div",{className:"employee-wrapper",children:[Object(d.jsx)("h3",{children:r}),s.length>0?s.map((function(e){return Object(d.jsx)(f,{employee:e,addEmployee:c,removeEmployee:a},e.id)})):"No Employees"]},t)}))})]})},g=function(){var e=Object(a.useState)({}),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(y("selectedEmployees")),m=Object(i.a)(r,2),u=m[0],p=m[1],f=Object(a.useState)(!1),g=Object(i.a)(f,2),x=g[0],N=g[1],E=Object(a.useState)(!1),S=Object(i.a)(E,2),w=S[0],J=S[1];Object(a.useEffect)((function(){N(!0),J(!1),j.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){var t=e.data.reduce((function(e,t){var c=t.firstName.slice(0,1);return e[c]?e[c].push(t):e[c]=[t],e}),{});n(I(t)),N(!1)})).catch((function(){J(!0)}))}),[]);var I=function(e){var t=Object.entries(e).reduce((function(e,t){return t[1].sort(O),e}),e);return b.sort().reduce((function(e,c){return e[c]=t[c]||[],e}),{})};return w?Object(d.jsx)("h1",{children:"Failed to fetch data"}):Object(d.jsxs)("div",{className:"app",children:[x&&Object(d.jsx)("h3",{children:"Loading..."}),!x&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(v,{employees:c,addSelectedEmployee:function(e){var t=new Date(e.dob).getMonth(),c=y("selectedEmployees");c[t]?localStorage.setItem("selectedEmployees",JSON.stringify(Object(o.a)(Object(o.a)({},c),{},Object(s.a)({},t,function(e,t){return[].concat(Object(l.a)(e),[t]).sort(O)}(c[t],e))))):localStorage.setItem("selectedEmployees",JSON.stringify(Object(o.a)(Object(o.a)({},c),{},Object(s.a)({},t,[e])))),p(y("selectedEmployees"))},removeSelectedEmployee:function(e){var t=new Date(e.dob).getMonth(),c=y("selectedEmployees"),a=Object(o.a)(Object(o.a)({},c),{},Object(s.a)({},t,c[t].filter((function(t){return t.id!==e.id}))));localStorage.setItem("selectedEmployees",JSON.stringify(function(e){var t={};return Object.keys(e).forEach((function(c){e[c].length&&(t[c]=e[c])})),t}(a))),p(y("selectedEmployees"))}}),Object(d.jsx)(h,{selectedEmployees:u})]})]})};r.a.render(Object(d.jsx)(g,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.66aa4455.chunk.js.map